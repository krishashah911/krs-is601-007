{% extends "layout.html" %}
{% block title %}View Ratings{% endblock %}

{% block content %}
<div class="container-fluid">

    <div class="h3">View Ratings {{title}}</div>

    <table class="table">
        {% if rows and rows|length > 0 %}
        <thead>
            <tr class="text-capitalize">
                <!-- add th elements -->
                {% for r in rows[0] %}
                    {% if r == 'title' %}
                        <!-- <th>Title</th> -->
                    {% elif r not in ['id', 'watchlist_id', 'title', 'modified', 'created'] %}
                        <th>{{ r }}</th>
                    {% endif %}
                {% endfor %}
                <!-- keep this -->
                <!-- <th>Actions</th> -->
            </tr>
        </thead>
        <tbody>
            <!-- iterate over rows and generate proper tr and td elements with the data -->
            {% for r in rows %}
            <tr>
                {% for key, value in r.items() %}
                    {% if key not in ['id', 'watchlist_id', 'title', 'modified', 'created'] %}
                        <td>{{ value }}</td>
                    {% endif %}
                {% endfor %}
                <!-- <td><a href="#">Edit</a>
                    {# **request.args spreads the key value pairs to be part of the url#}
                    {# the idea is to pass it to the next route #}
                    <a href="#">Delete</a>
                </td> -->
        </tr>
            {% endfor %}
        </tbody>
        {% else %}
        <tbody>
            <tr>
                <td colspan="100%">No results to show</td>
            </tr>
        </tbody>
        {% endif %}
    </table>
    <a href="{{ url_for('netflixdata.list') }}" class="btn btn-secondary">Back</a>
</div>
{% endblock %}